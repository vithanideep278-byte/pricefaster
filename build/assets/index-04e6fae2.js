import{r as u,j as e,a_ as j}from"./index-c61e8b64.js";import{c as f,a as g,u as F,A as w,F as v,d as y,e as N,f as b,g as S,h as P}from"./index.esm-2f48c51a.js";import{I as E}from"./Input-02b0842b.js";import{B as k}from"./Button-fb2240eb.js";import"./context-ce67dbba.js";import"./index-edc40bad.js";import"./Views-4c7db57f.js";import"./isNil-4bf62b3e.js";import"./get-6536235b.js";import"./toString-66698047.js";const I=f().shape({email:g().required("Please enter your email")}),M=l=>{const{disableSubmit:m=!1,className:c,signInUrl:d="/sign-in"}=l,[r,h]=u.useState(!1),[o,p]=F(),x=async(a,s)=>{var i,n;s(!0);try{(await j(a)).data&&(s(!1),h(!0))}catch(t){p(((n=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:n.message)||t.toString()),s(!1)}};return e.jsxs("div",{className:c,children:[e.jsx("div",{className:"mb-6",children:r?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1 text-white",children:"Check your email"}),e.jsx("p",{className:"text-white",children:"We have sent a password recovery instruction to your email"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1 text-white",children:"Forgot Password"}),e.jsx("p",{className:"text-white",children:"Please enter your email address to receive a verification code"})]})}),o&&e.jsx(w,{showIcon:!0,className:"mb-4",type:"danger",children:o}),e.jsx(v,{initialValues:{email:"admin@mail.com"},validationSchema:I,onSubmit:(a,{setSubmitting:s})=>{m?s(!1):x(a,s)},children:({touched:a,errors:s,isSubmitting:i})=>e.jsx(y,{children:e.jsxs(N,{children:[e.jsx("div",{className:r?"hidden":"",children:e.jsx(b,{invalid:s.email&&a.email,errorMessage:s.email,children:e.jsx(S,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:E})})}),e.jsx(k,{block:!0,loading:i,variant:"solid",type:"submit",children:r?"Resend Email":"Send Email"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{children:"Back to "}),e.jsx(P,{to:d,children:"Sign in"})]})]})})})]})},A=()=>e.jsx(M,{disableSubmit:!1}),W=A;export{W as default};
