import{u as i,b as x,j as s,s as y,r as m,c as S,d as C,L as f,a as v,S as g,N as E,e as T,f as _}from"./index-c61e8b64.js";import{w as j}from"./Drawer-a3bb14f5.js";import{u as N,N as A,L as R,n as D}from"./HeaderSearch-1cfdd079.js";import{S as I}from"./ScrollBar-e89075b6.js";import{V as w}from"./VerticalMenuContent-686706d4.js";const M=({className:o})=>{const a=i(n=>n.theme.layout.sideNavCollapse),l=x(),{larger:r}=N(),t=()=>{l(y(!a))};return s.jsx(s.Fragment,{children:r.lg&&s.jsx("div",{className:o,onClick:t,children:s.jsx(A,{className:"text-2xl",toggled:a})})})},z=j(M),L={width:v,minWidth:v},V={width:g,minWidth:g},O=({collapsed:o,sideNavRef:a,currentRouteKey:l})=>{const[r,t]=m.useState({top:0,height:0,opacity:0});return m.useEffect(()=>{const n=()=>{if(a.current&&!o){const c=a.current.querySelector(".menu-item-active");if(c){const d=a.current.getBoundingClientRect(),u=c.getBoundingClientRect();t({top:u.top-d.top,height:u.height,opacity:1})}else t(d=>({...d,opacity:0}))}else t(c=>({...c,opacity:0}))};n(),window.addEventListener("resize",n);const p=setTimeout(n,100);return()=>{window.removeEventListener("resize",n),clearTimeout(p)}},[o,a,l]),s.jsx("div",{style:{position:"absolute",left:0,top:r.top,width:"3px",height:"40px",backgroundColor:"#4880FF",borderRadius:"0 2px 2px 0",opacity:r.opacity,transition:"all 0.2s ease-in-out",zIndex:10}})},B=()=>{i(e=>e.theme.themeColor),i(e=>e.theme.primaryColorLevel);const o=i(e=>e.theme.navMode),a=i(e=>e.theme.mode),l=i(e=>e.theme.direction),r=i(e=>e.base.common.currentRouteKey),t=i(e=>e.theme.layout.sideNavCollapse),n=i(e=>e.auth.user.authority),{larger:p}=N(),c=m.useRef(null),d=()=>"bg-white side-nav-light",u=()=>o===E?T:o===_?a:o==="pricefaster"?"light":o,h=s.jsx(w,{navMode:"pricefaster",collapsed:t,navigationTree:D,routeKey:r,userAuthority:n,direction:l});return s.jsx(s.Fragment,{children:p.lg&&s.jsxs("div",{ref:c,style:t?V:L,className:S("side-nav",d(),!t&&"side-nav-expand",t&&"side-nav-collapsed"),children:[s.jsx(O,{collapsed:t,sideNavRef:c,currentRouteKey:r}),s.jsx("div",{className:"side-nav-header",children:s.jsx(R,{mode:u(),type:"pricefaster",collapsed:t,className:t?C:f})}),t?h:s.jsx("div",{className:"side-nav-content",children:s.jsx(I,{autoHide:!0,direction:l,children:h})})]})})};export{B as S,z as a};
